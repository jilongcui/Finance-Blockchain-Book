# 需求分析

## 异构多链下供应链金融开发一体化平台

### 基本需求

#### 部署模式：本地部署

部署在用户本地服务器，交付完整源码。用户可根据需求进行定制，软硬件一体化交付，确保平台高效运行。

#### 参与角色
备注： 平台不涉及交易， 只涉及供应链金融过程中产生的业务活动， 或者相关合同， 授信， 每一步骤可能 会产生相关的一些佐证合同之类。
  1. 核心企业 A （买方）：供应链中的大型企业，负责采购原材料或产品，使用隐私计算验证供应商的 账款，确保数据隐私。同时作为借贷方之一，可以基于其应付账款或其他资产向金融机构进行借贷。
  2. 供应商企业 B （卖方）：供应链中的中小型企业，提供商品或服务，形成应收账款。利用隐私计算 上传交易数据并保护敏感信息。并作为另一借贷方，利用应收账款资产化进行融资。
  3. 金融机构 C：提供融资服务的银行或金融机构，基于隐私计算验证核心企业和供应商的应付与应收 账款的真实性，进行授信放款，支持双向借贷模式。
  4. 开发团队 D：负责智能合约、隐私计算算法的开发和维护。
  5. 平台运营方 E：管理供应链金融平台，负责智能合约审核、部署与平台运营，确保平台中的隐私计 算和数据安全。

#### 技术选型
1. 区块链平台:Fisco BCOS
2. 跨链技术:WeCross
3. 隐私计算技术:
    参考 PrimiHub
    使用 WeDPR进行集成
4. 存储解决方案: IPFS（InterPlanetary File System）
5. 智能合约平台:Webase
6. 前端：前端使用现代前端框架（如React、Vue.js）开发，提供用户友好的界面。
7. 后端：后端使用RESTful API或其余主流接口与前端进行数据交互（尽量选择java springboot或者 python django、go gin、rust web类的框架做后端开发）。

### 1. 核心企业、供应商和金融机构的角色

#### 1. 核心企业 A（买方）与供应商企业 B（卖方）

    双向借贷模式：在传统供应链金融中，通常只有供应商企业 B 利用其应收账款向金融机构 C 进行借贷。然而，在双向借贷模式中，核心企业 A 和供应商企业 B 都可以基于各自的资产   （应付账款和应收账款）向金融机构进行融资。
    信用增强机制：核心企业 A 的强信用背景可以为供应商企业 B 的借贷提供信用支持，供应商 的应收账款资产化又可以增强核心企业 A 的融资能力，形成双向背书机制。
    隐私计算应用：在交易过程中，隐私计算技术可以帮助核心企业 A 和供应商企业 B 在不公开 具体交易数据的前提下完成信用验证，确保交易信息的私密性与安全性。

#### 2. 金融机构 C（融资方）
    双向融资服务：金融机构 C 基于核心企业 A 与供应商企业 B 之间的交易数据，评估双方的信 用和应收账款、应付账款的质量，提供双向融资服务。通过供应链金融平台，金融机构能够   利用核心企业的应付账款和供应商的应收账款进行双向授信放贷，降低融资风险。
    智能合约与隐私计算的使用：金融机构 C 可以通过智能合约自动审核应收账款的真实性，并 在确保数据安全的情况下，依托隐私计算技术，完成对双方财务状况的验证和授信操作，实 现自动化的融资流程。同时，敏感信息在此过程中依然保持加密，保障数据隐私。

### 2. 开发团队的角色
#### 1. 智能合约的开发
    合约设计：开发团队 D 负责设计和开发支持应收账款与应付账款数字化、双向融资功能的智 能合约模块。这包括应收账款和应付账款的自动化处理、融资合约的自动授信和跨企业合约  的协作。
   IPFS集成：开发智能合约时考虑到IPFS的集成，实现链上和链下数据的结合，确保文档存储 和数据验证的高效性。
#### 2. 合约编写、部署与测试
    Webase平台使用：利用Webase平台编写、测试和部署智能合约。Webase提供了丰富的合约编 写工具和测试环境，支持智能合约的完整开发生命周期。
    合约测试：在Webase平台上进行全面的测试，确保智能合约的功能正确，并在实际使用中能 处理预期的业务场景。

#### 3. 隐私计算算法上传
    平台提供隐私计算算法上传功能，用户可以根据需求自主上传算法，实现多方安全计算、零 知识证明等操作，确保隐私计算的灵活性，主要就是将PrimiHub那一套搬过来即可。
#### 4. 技术支持与优化
    技术支持：为平台运营方 E 和金融机构 C 提供技术支持，帮助他们理解和使用智能合约、隐 私算法。
    优化和升级：根据业务需求和用户反馈，不断优化和升级智能合约，确保其性能和安全性。

### 3. 平台运营方的角色
#### 1. 平台的整体运维
    审核与部署：平台运营方 E 负责智能合约的审核和部署，确保其合规性和安全性。平台上的 数据存储和访问通过IPFS进行管理，保证数据的持久性和完整性。
    权限管理：确保各方参与者在平台上具有适当的权限，并保持平台的正常运行。

### 4. 双向借贷机制

#### 1. 双向借贷简介
    在传统供应链金融中，通常是供应商企业 B利用其应收账款向金融机构融资。而在 双向借贷模式中，核心企业 A和供应商企业 B均可同时向金融机构申请融资，各自基于自身的资产 负债结构及账款进行贷款。金融机构通过审核双方的信用、交易数据及账款情况，为双方提供双向 融资支持。
#### 2. 双向借贷流程
    a. 核心企业 A 向金融机构借贷
    核心企业 A 在采购过程中，产生了一定金额的应付账款。为了提高资金流动性，核心企业 A 可以将这些应付账款作为担保资产，向金融机构 C 申请短期融资。
    金融机构通过平台验证核心企业 A 的交易记录和应付账款的真实性，并基于其信用评分和资 产情况，向其发放贷款。
    b. 供应商企业 B 向金融机构借贷
    供应商企业 B 在向核心企业 A 提供商品或服务后，形成了一笔应收账款。在等待核心企业付 款的过程中，供应商企业 B 可以将这些应收账款资产化，向金融机构 C 申请融资。
    金融机构 C 通过平台审查应收账款的合法性和供应商的信用历史，在核实交易背景后，向供 应商发放贷款。

#### 3. 双向借贷中的信用增强
    a. 核心企业信用增强
    核心企业 A 通常在供应链中具有较高的信用等级。供应商企业 B 可以借助核心企业 A 的信用 增强效果，在其应收账款融资中获得更优惠的融资条件和利率。
    金融机构 C 会将核心企业 A 的信用情况纳入供应商企业 B 的风险评估中，从而减少供应商融 资的信用风险。
    b. 供应商资产增强
    当供应商企业 B 提供了优质的商品或服务，且应收账款具有较强的支付保障时，这些应收账 款也可以成为核心企业 A 的担保资产，帮助其提高融资额度。
    这种双向资产与信用的增强机制，使得双方均能够在金融机构 C 处获得较高的融资灵活性。

### 4. 智能合约的作用

#### 1. 应收账款和应付账款的数字化
    数字化处理：智能合约将供应商企业 B 的应收账款和核心企业 A 的应付账款转化为链上资   产，实现账款流转和抵押融资。这一过程包括将相关文档存储在IPFS中，并在区块链上生成 内容寻址链接。
#### 2. 双向融资合约
    自动化授信和融资：智能合约根据核心企业 A 与供应商企业 B 的融资需求，自动处理双方的 授信、放款和还款流程。合约在授信额度内自动计算还款计划，减少人工干预。
#### 3. 跨企业合约协作
    跨链支持：智能合约支持多个企业间的跨链交易和融资需求，实现不同链上资产和数据的互  操作性。WeCross通过中继节点或跨链协议确保数据在多个区块链网络中的一致性和同步性。

### 5. WeCross跨链技术的作用（FiscoBcos旗下WeCross跨链开源项目）
#### 1. 互操作性
    链间数据流通：由于核心企业 A 和供应商企业 B 可能位于不同的区块链网络上， WeCross确 保这些网络之间的资产和数据能够无缝流通。供应商企业 B 的应收账款数据在一个链上记    录，金融机构 C 在另一个链上进行融资操作。
#### 2. 资产跨链转移
    数据同步： WeCross允许资产从一个链转移到另一个链，确保不同网络之间的交易和数据同   步。例如，供应商企业 B 的应收账款数据可以在一个链上进行记录和处理，金融机构 C 在另 一个链上获得相应的信息。

### 6. IPFS技术的作用（IPFS开源项目）
#### 1. 去中心化存储
    数据存储： IPFS用于存储供应链金融平台上的大文件和文档，例如合同、发票、运输单据 等。数据存储在IPFS网络中，提高了数据的可用性和持久性。
#### 2. 数据验证
    内容寻址：通过IPFS存储的数据可以通过内容寻址的方式进行验证，确保数据的完整性和一 致性。这对于确保供应链中的各方使用的数据是可靠的至关重要。
#### 3. 隐私保护
    文件加密：上传到IPFS前，平台对文件进行加密处理，只有持有解密密钥的授权方才能查看 文件内容。文件加密和解密流程通过隐私计算实现，确保文件安全性。
    隐私计算：结合IPFS和隐私计算技术，确保敏感数据在共享时不会泄露。IPFS存储的文档可 以与区块链上的交易记录关联，保证数据的隐私和安全。

#### 4. 嵌入平台设计
    API数据获取： IPFS嵌入到供应链金融平台，平台通过API获取文件存储和验证数据。
    用户ID与文件关联：由于IPFS不自带用户体系，平台数据库需建立用户ID与IPFS文件的关联 表，用于区分不同用户群体的文件。

### 7. 隐私计算技术的作用（WeDPR或PrimiHub开源隐私计算平台）
#### 1. 保护数据隐私
    隐私保护：隐私计算技术（如多方安全计算、零知识证明等）允许供应链中的各方在不泄露 其敏感数据的情况下进行数据交换和验证。例如，供应商企业 B 可以在不公开具体财务细节 的情况下证明其拥有足够的资产或良好的信用。
    敏感信息加密：在智能合约中， IPFS存储的文档和数据可以进行加密处理，以防止未经授权 的访问。隐私计算技术确保这些加密数据可以在需要时解密进行验证，但在传输和存储过程 中保持安全。
#### 2. 合规性与数据共享
    符合法规：隐私计算技术帮助企业在遵守法律法规（如KYC、AML）要求的前提下共享数   据。企业可以证明其满足监管要求（如资金来源合法性、信用状况等），而不需公开其详细 的财务数据。
    合规审查：监管机构可以利用隐私计算技术进行合规审查，确保金融机构和企业遵循相关法 规，而不侵犯企业的隐私。通过隐私计算，监管机构可以进行数据核查而不直接访问企业的 敏感数据。
#### 3. 数据安全
    防止数据泄露：在跨链交易和数据交换中，隐私计算技术确保敏感信息不会泄露。跨链服务 提供者和平台运营方可以通过隐私计算技术保护在不同链上流通的数据，防止数据被未经授 权的方获取或滥用。
    数据完整性：结合IPFS的内容寻址和隐私计算技术，供应链中的数据可以保持完整性和一致 性。任何对数据的更改或篡改都可以被及时发现和处理，保证数据的可靠性。

### 8.整合到供应链金融平台中的应用
#### 1. 数据验证与隐私保护
    智能合约中的隐私计算：在智能合约中，隐私计算技术可以用于验证应收账款的真实性和供 应商企业 B 的信用状况，而不需公开具体数据。数据验证通过隐私计算确保只有经过授权的 方才能访问相关信息。
#### 2. 跨链数据交换
    安全的数据传输：在使用WeCross进行跨链交易时，隐私计算技术保护跨链数据的传输和共享 过程。确保在不同区块链网络间交换的数据不被泄露，同时验证数据的真实性。

#### 3. IPFS与隐私计算的结合
    加密存储： IPFS存储的数据可以与隐私计算技术结合，进行加密处理。存储在IPFS上的文档 和数据在访问时通过隐私计算进行解密和验证，确保数据在传输和存储过程中的安全性。
#### 4. 合规数据共享
    符合法规的数据交换：通过隐私计算技术，企业可以与金融机构和监管机构共享必要的数 据，同时保持数据隐私。这种方式既满足合规要求，又保护了企业的商业机密。

### 9.供应链金融平台上的应用流程
#### 1. 智能合约中的隐私计算
    在智能合约中，集成隐私计算功能，处理数据验证和融资请求时，确保数据的安全和隐私。 通过隐私计算进行应收账款的真实性验证，并处理自动化授信。
#### 2. IPFS与隐私计算的结合
    将敏感文档存储到IPFS中，并进行加密。通过隐私计算技术，在供应链金融平台上对存储在 IPFS中的数据进行安全验证和合规检查。
#### 3. 跨链数据安全
    使用WeCross技术进行跨链数据交换时，结合隐私计算技术保护数据在不同链间的传输过程， 确保数据的安全和隐私。
#### 4. 合规性检查
    监管机构通过隐私计算技术审查企业的合规性，确保数据交换和交易过程符合法规要求，而 不侵犯企业的隐私。

### 10. 供应链金融平台上的操作流程
#### 1. 智能合约的开发与部署
    合约设计：开发团队 D 设计支持双向融资、跨链与 IPFS 功能的智能合约模块，处理应收账 款、资产转移以及融资功能。合约允许供应商企业 B 和核心企业 A 同时发起融资请求。
    合约编写与测试：在 Webase 平台上编写并测试智能合约，确保双向融资流程中的资金分配、 还款流程和资产转移都能自动化执行，且安全无漏洞。
    合约审核：平台运营方 E 审核合约逻辑，确保其支持双向融资及跨链功能，并通过安全性审 查后将合约部署到 Fisco BCOS 区块链网络。
#### 2. 供应商企业 B 发起应收账款融资请求
    账款数字化与资产创建：供应商企业 B 和核心企业 A 分别通过智能合约将各自的应收账款或 资产数字化，并将相关文件上传至 IPFS。此过程生成唯一的内容寻址链接，确保融资资产的 完整性和透明性。
    融资请求：供应商企业 B 发起融资请求，使用智能合约引用 IPFS 中的应收账款文档并提交给 金融机构 C，申请融资款项；同时，核心企业 A 也可根据其现金流需求发起融资，利用其自

身的资产作为担保，通过智能合约提交融资请求给金融机构。
#### 3. 金融机构 C 审核与融资
    数据验证与审核：金融机构 C 通过智能合约验证供应商 B 和核心企业 A 的融资请求，调用   IPFS 上的相关文档进行审核。该过程可同时对多个请求进行验证，确保交易的合法性和资产 的真实性。
    资金放款与分配：对于供应商 B 的融资请求，审核通过后，金融机构 C 通过智能合约向 B 放 款，资金与资产数据实时同步到区块链；核心企业 A 的融资请求通过审核后，也可获得资
    金，金融机构 C 将贷款分配给 A，确保双向融资模式的顺利运作。
#### 4. 合约执行与资金结算
    自动结算：应收账款到期或核心企业 A 支付账款时，智能合约自动执行清算流程，包括资金
    偿还与债务清偿。所有交易和资金流动记录在区块链上，确保数据的透明度和不可篡改性。
    双向清算与还款：无论是供应商企业 B 还是核心企业 A，智能合约自动触发相应的清算过 程，资金流和资产流根据双方的还款协议自动划拨。
#### 5. 跨链交易与数据同步
    跨链资产转移与同步：通过 WeCross 技术，双向融资中的应收账款和融资资产可以在不同区 块链之间进行同步和转移，确保供应商和核心企业能够在不同链上进行资产管理和融资操
    作。
    数据一致性： WeCross 协议保证所有链上的融资数据、资产和交易信息保持一致。无论是供应
    商 B 的应收账款还是核心企业 A 的担保资产，跨链交易和资金流动将始终得到协调与同步。
### 11. 针对多方企业合作的优化设计
#### 1. 智能合约的可扩展性
    模块化架构：智能合约采用模块化设计，支持灵活加载不同功能模块，如资产管理、跨链交 易、应收账款融资等。这样可以根据不同企业的需求进行个性化调整，增强平台的适应性与 可扩展性。
    可扩展的业务逻辑：为了应对多企业合作的复杂业务场景，智能合约设计时支持动态扩展新 业务逻辑，允许在不影响现有业务的情况下引入新功能和流程，从而满足供应链金融中日益 变化的需求。
#### 2. 多层级权限管理
    角色细分与权限分配：平台应建立精细化的权限体系，根据企业的角色（如核心企业、供应 商、金融机构）设定不同级别的权限，确保各方只能访问和操作与其职责相关的业务模块和 数据。
    动态权限控制：引入动态权限管理机制，基于智能合约和区块链的透明性，平台可以根据业 务发展和企业需求动态调整各方的权限，适应企业间合作的多样化场景。
#### 3. 隐私保护与数据安全
    隐私计算集成：结合零知识证明、多方安全计算等隐私计算技术，保障数据在跨链交易或多 方合作时的安全性。即使多方共享数据，敏感信息仍然可通过加密技术保持私密，避免不必要的信息暴露。
    数据加密与分布式存储：通过 IPFS 技术将关键文件分布式存储，并结合加密算法确保存储在 区块链上的数据安全，确保交易和融资过程中的机密数据不会泄露。
#### 4. 二开支持
    开放API接口：为便于多企业和开发者进行二次开发，平台应提供完善的 API 接口和 SDK 支 持，允许企业根据自身需求拓展平台功能，或将平台集成到其现有系统中。
    开发文档与插件机制：平台提供详尽的二次开发文档和示例，支持通过插件或模块化功能的 引入，快速进行业务扩展。同时，平台具备标准化的开发规范，确保多方开发者可以方便、 快速地进行定制开发。



## 项⽬沟通需求回复

### 一、每个参与的企业是有⾃⼰独⽴的客户端的？还是说⽤户总体共⽤⼀个客户端？

每个参与的企业在供应链金融平台上应该有自己的独立客户端，而不是所有用户共用一个客户端。这 是因为每个企业需要维护自己的私有数据，尤其在供应链金融场景中，涉及到应收账款、合同、经营流水 等敏感资产。因此，为了确保数据的安全性和隐私性，每个企业使用独立的客户端是更合理的方案。以下 是企业客户端的一些核心功能和细节：

#### 1. 独立客户端

 **独立客户端**：每个企业拥有自己的客户端，这样可以保证企业内部的私有数据存储和管理是隔离的，不会与其他企业共享。在上传数据时，企业可以使用隐私计算技术加密后再上传到IPFS等去中 心化存储网络，这样可以最大程度保障数据隐私和安全。

 附加说明：如果所有企业共用一个客户端，将难以满足不同企业对数据隔离和隐私保护的需求。此 外，在共用客户端环境中，数据上传至平台前必须加密，进一步复杂了操作流程，并且存在集中化管理带来的潜在安全隐患。

#### 2. 用户权限管理

 **多角色权限分配**：企业客户端需要支持细致的权限管理，包括管理员、操作员、运维等不同级别的 角色分配。每个角色根据其权限访问特定功能和数据。例如：

* **管理员**：负责系统管理和权限分配，可以访问所有企业级数据和功能。

* **操作员**：只允许查看和操作与其职责相关的资产数据，如上传、更新合同、处理应收账款等。

* **运维**：维护系统和平台运行，不直接接触企业的敏感数据。

#### 3. 资产的数字化

* **资产管理**：企业需要在客户端对各类资产进行数字化处理，包括合同、应收账款、应付账款、经营流水等。通过智能合约和加密算法，企业可以安全地将资产转换为可验证的数字形式并上传至平台。

* **应收账款管理**：企业可以通过客户端将应收账款数字化后，以资产的形式上传到平台，并使用加密技术确保隐私数据的安全性。

#### 4. 隐私计算功能
* **加密上传**：在企业将资产上传到IPFS等存储系统之前，需要在客户端本地进行数据加密。加密后上传的数据通过IPFS存储，其他企业或金融机构在必要时可以通过智能合约和隐私计算技术对数据进行验证，而无需直接访问明文数据。

* **隐私保护**：利用多方计算、零知识证明等隐私计算技术，确保在涉及多个企业合作的场景下，数据的完整性和安全性得以保持，敏感数据不会被无关方访问。

#### 5. 智能合约的管理
* 合约生命周期管理：每个企业在其客户端上可以管理和部署与其业务相关的智能合约。通过智能合约，可以实现应收账款的转让、融资以及自动化结算等功能。企业可以根据自身需求定制智能合约的逻辑和流程。
#### 6. 合规操作
* 合规性审核：在执行智能合约时，企业可以通过客户端内置的合规审核功能，确保所有操作符合法律和监管要求。例如，合同签署和资金流动过程中的法律合规审核，满足金融行业的监管要求。
* 审计与合规管理：企业可通过该模块进行合规数据的汇报与备份，确保平台运作符合相关法律法规。
* 审计日志：系统自动生成审计日志，记录所有关键操作，包括资产上传、合约执行、数据访问等， 确保企业可以在需要时提供完整的审计记录。

### 二、企业AB业务逻辑需要具有的功能

针对企业A或企业B的业务逻辑，以下是企业在供应链金融平台上需要具备的功能和相应的技术实现细节：

#### 1. 资产数字化
* IPFS上传与CID生成

  企业A或企业B将实体资产（如应收账款、合同等）数字化后，通过IPFS上传至去中心化存储网络。在上传时， IPFS会生成一个唯一的内容标识符（CID），该CID是资产的内容哈希值，用于后续引用和验证。这一过程是资产数字化的基础步骤。

* 资产验证

  数字化后的资产需要进行验证，确保其真实性和完整性。验证的机制可以通过隐私计算来完成，具体细节看下方第二点。
      

#### 2. 资产验证机制

* 隐私计算的应用：

  不暴露原始数据的情况下，仍然能验证和处理数据的技术。企业A或B将资产上传到IPFS后，通过隐私计算技术（如多方安全计算或零知识证明），金融机构或其他合作方可以验证资产的真实性，而无需直接访问资产的明文数据。

* 验证的基本原理：

  * 数据加密：在企业A或B上传资产之前，资产数据经过加密处理（例如哈希处理、同态加密等）。
  * 数据验证：金融机构或其他验证方通过智能合约调用隐私计算模块，对加密后的资产数据进行验证。隐私计算允许这些验证方对加密数据执行操作，而不会暴露数据的明文。
  * 零知识证明：验证可以采用零知识证明技术，证明某一方拥有某种信息（如应收账款的真实信息），而无需透露其详细内容。通过这种方式，金融机构可以确认资产的真实性，确保交易的合规性和安全性。

#### 3. 发起融资请求

* **融资申请流程**：企业A或企业B根据其资产（如应收账款、合同等），通过智能合约发起融资请求。 该请求会引用存储在IPFS上的数字资产的CID，金融机构在审核请求时，可以通过智能合约和隐私计算技术，验证资产的真实性和相关性。

* **授信和放款**：在融资申请被批准后，智能合约自动完成授信和放款流程。授信额度基于资产的价值和相关信用评估。

#### 4. 智能合约自动化流程

* 自动授信：金融机构通过智能合约来评估企业的资产和信用信息，并根据预设的规则进行自动授信。授信过程依赖于数据验证结果，以及企业历史信用记录、业务往来等相关数据。

* 放款流程：当授信完成后，智能合约负责自动执行放款流程。资金的发放会通过跨链机制与金融机构的系统对接，确保资金能够实时、透明地流转至企业账户。

* 还款管理：智能合约同样会自动跟踪还款流程。到达还款期时，合约会自动从企业的账户中扣除应还金额，并将款项转移至金融机构账户。

#### 5. 资金转移问题

* 资金转移的处理方式：
  * 跨链支付：放贷和还款过程中，资金的流动涉及到金融机构和企业之间的跨链操作。通过WeCross等跨链技术，智能合约可以确保资金在不同的区块链上进行同步和转移。例如，企业 A的融资资产和金融机构C的资金可能处于不同的区块链网络中，跨链协议允许它们之间进行安全的资产与资金转移。
  * 银行系统（金融机构）对接：虽然区块链智能合约可以管理融资流程，但最终的资金转移仍需要与传统的银行支付系统（金融机构，目前模拟即可，留好接口，方便二开，对接真实银 行之类）进行对接。智能合约可以自动触发传统银行系统的付款操作，例如通过API与银行的 支付系统连接，实现放款和还款的无缝对接。

#### 6. 验证与资金流转的总结

* 资产的验证：通过隐私计算技术和IPFS存储，企业A或B的资产能够在不泄露详细信息的前提下被验证，确保其真实性。
* 智能合约自动化融资流程：从融资请求的发起、授信、放款到还款的全流程，都可以通过智能合约自动完成，并通过跨链技术和银行系统（金融机构）对接实现资金的透明流转。
* 资金安全性：通过区块链和智能合约技术，资金流转过程中的安全性得以保证，所有操作都记录在链上，确保不可篡改和可追溯性。

### 三、⾦融机构C的业务逻辑

在供应链金融平台上，金融机构C的业务逻辑主要围绕审查、资金管理和风险控制，尽管授信和放贷 的流程由智能合约自动化执行，极大减少金融机构C的日常操作负担，但其核心工作仍然包括授信规则和风控策略配置、资产验证与资金管理、合规与审计、风险管理和客户服务。通过这些工作，金融机构C能 够确保自动化流程的安全性、合规性和高效性，同时为企业提供更个性化的金融服务。金融机构C仍有一 些关键的角色和工作需要人工介入或配置。以下是金融机构C的主要工作职责：

#### 1. 初始设置与智能合约配置

* 授信规则配置：虽然智能合约能够自动化授信和放款流程，但金融机构C需要在初期为智能合约配置 授信规则和风控标准。这些规则包括：
    * 授信额度的计算公式
    * 风险评估模型
    * 不同企业的信用等级标准

* 风控策略配置：根据不同企业的业务情况、行业特点、财务状况，金融机构C设置特定的风控策略， 确保授信和放款符合内部的风险管理标准。

#### 2. 资产审核与风险评估

* 自动化审核与验证：尽管资产的审核过程通过智能合约和隐私计算技术进行，金融机构C仍需定期查看系统自动生成的审核报告，确保系统能够正确识别和验证企业提交的资产。例如：
  * 确认应收账款的真实性
  * 验证合同或其他资产文档的合法性
  * 确保IPFS上的数据没有被篡改
* 风险评估与调整：智能合约根据预先设定的风控模型评估企业A或企业B的资产和信用状况，金融机 构C可以通过审核这些模型生成的报告来调整相关参数。具体操作包括：
  * 重新评估某些企业的信用等级
  * 根据宏观经济变化或行业波动，调整授信额度或风险偏好

#### 3. 资金管理与流动性控制
* 资金池管理：虽然放款和还款由智能合约自动执行，金融机构C需要对资金池进行管理，确保有⾜够的流动性⽀持多个企业的融资需求。管理内容包括：
  * 维护充足的资金流动性以支持多方放款
  * 调配资金来源，确保资金池的安全和稳定
  * 优化资金分配，提升资金的使用效率
* 跨链资金同步：通过跨链技术（如WeCross），资金流动涉及不同的链上操作，金融机构需要确保资金在不同的链上进行同步。金融机构C的资金管理团队需定期核查跨链资金的同步情况，确保资金转移的准确性和安全性。

#### 4. 合规性与审计
* 合规审核：尽管许多操作由智能合约自动完成，但金融机构C仍需确保其所有的融资、放款和授信操 作符合国家和地区的金融监管要求。相关的合规审核工作包括：
  * 审查自动化流程是否符合反洗钱（AML）、反恐融资（CFT）等规定   确保数据存储和交易记录符合隐私保护法律，如《数据保护法》等
  * 定期向监管机构提交合规报告，确保平台操作透明和符合监管要求
* 区块链审计：区块链的不可篡改性为审计工作提供了便利，但金融机构C仍需定期对智能合约生成的 交易和操作记录进行审计，以确保资金流动的合法性和资产真实性。具体工作包括：
  * 审计智能合约执行的每笔授信和放款记录
  * 核查跨链交易数据的一致性和正确性
  * 审查应收账款的到期情况以及相应的还款执行情况

#### 5. 客户关系管理
* 风险通知与预警：金融机构C需及时监控每个企业的授信、放款和还款情况，并通过平台提供风险通 知与预警服务。例如：
  * 如果企业B的应收账款未按期付款，智能合约会触发提醒，但金融机构仍需主动联系企业，进 行相应的风控操作。
  * 当某个企业的信用等级下降时，金融机构可根据平台预警信息调整授信额度或采取其他措 施。

### 四、IPFS存储的数据可以与隐私计算技术结合进⾏加密
IPFS存储的数据要与隐私计算技术结合进行加密，平台可以实现以下关键功能：

* 数据加密存储：保证资产数据在上传IPFS之前已加密，确保数据在分布式网络中的安全性。
* 隐私保护的计算：通过隐私计算技术，金融机构或其他第三方可以在不直接访问数据的前提下验 证、处理和计算相关业务。
* 数据访问与权限管理：提供严格的访问控制和权限管理，确保只有授权方能够访问和处理数据。 合 规和数据安全：符合数据隐私保护法规，保障企业和用户的数据安全。
